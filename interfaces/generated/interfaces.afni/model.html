
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Neuroimaging in Python - Pipelines and Interfaces &#8212; nipy pipeline and interfaces package</title>
    <link rel="stylesheet" href="../../../_static/nipype.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="author" title="About these documents" href="../../../about.html" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
 
<meta name="keywords" content="nipype, neuroimaging, pipeline, workflow, parallel, python, neuroscience">
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-339450-7', 'nipy.org/nipype');
  ga('send', 'pageview');
</script>
<script>
  ((window.gitter = {}).chat = {}).options = {
    room: 'nipy/nipype'
  };
</script>
<script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async defer></script>

  </head><body>
<div class="header-wrapper">
    <div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px">
            <a href="../../../index.html">
            <img src="../../../_static/nipype-banner-bg.png" alt="NIPY logo"  border="0" />
        <div style="margin-top: 1em;
                border-top: 1px solid #AAA;
                border-bottom: 1px solid #AAA;
                border-radius: 5px;
                padding: 3px 1em;">
            <link rel="stylesheet" href="http://www.google.com/cse/style/look/default.css" type="text/css" />
<style type="text/css">
    a.navbar {
    color: ;
    letter-spacing: .05em;
    font-weight: bold;
        }
</style>

<a class="navbar" href="../../../index.html">Home</a> ·
<a class="navbar" href="../../../quickstart.html">Quickstart</a> ·
<a class="navbar" href="../../../documentation.html">Documentation</a> ·
<a class="navbar" href="../../../about.html">About</a> ·
<a class="navbar" href="http://nipy.org">Nipy</a>

        </div>
    </div>
</div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<style type="text/css">
    input.gsc-input {
        border-color: #BCCDF0;
    }
    input.gsc-search-button {
        border-color: #666666;
        background-color: #CECECE;
        padding: 0;
    }
    div.sphinxsidebar .tile {
        border: 1px solid #D1DDE2;
        border-radius: 10px;
        background-color: #E1E8EC;
        padding-left: 0.5em;
        margin: 1em 0;
    }
    div.sphinxsidebar input[type="text"] {
        width: 100%;
    }
    div.sphinxsidebar input[type="submit"] {
        width: 100%;
    }
</style>

<div class="sidebarblock">
    <script>
      (function() {
        var cx = '010960497803984932957:u8pmqf7fdoq';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:search></gcse:search>
</div>

  <h3><a href="../../../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">interfaces.afni.model</a><ul>
<li><a class="reference internal" href="#deconvolve">Deconvolve</a><ul>
<li><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#remlfit">Remlfit</a><ul>
<li><a class="reference internal" href="#id1">Examples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#synthesize">Synthesize</a><ul>
<li><a class="reference internal" href="#id2">Examples</a></li>
</ul>
</li>
</ul>
</li>
</ul>

<style type="text/css">
    div.sphinxsidebar .tile {
        border: 1px solid #D1DDE2;
        border-radius: 10px;
        background-color: #E1E8EC;
        padding-left: 0.5em;
        margin: 1em 0;
    }
</style>
<div class="sidebarblock">
    <h3>Versions</h3>

    <div class="tile">
        <table style="width: 100%;">
            <tr style="font-weight: bold;">
                <td align="left">Release</td><td align="right">Devel</td>
            </tr>
            <tr>
                <td align="left">1.1.3</td><td align="right">1.1.4-dev+g93c475b</td>
            </tr>
            <tr>
                <td align="left"><a href="../../../users/install.html">Download</a></td>
                <td align="right"><a href="https://github.com/nipy/nipype">Github</a></td>
            </tr>
        </table>
    </div>
</div>


<script type="text/javascript">
    (function() {
        var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
        po.src = 'https://apis.google.com/js/plusone.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
    })();
</script>

<h3>Links</h3>

<ul>
    <li>Docs: <a href="http://nipy.org/nipype">Stable</a> · <a href="http://nipype.readthedocs.org/en/latest/">Dev</a></li>
    <li>Code: <a href="http://github.com/nipy/nipype">Github</a> · <a href="http://github.com/nipy/nipype/issues">Bugs-Requests</a></li>
    <li>Forum: <a href="https://neurostars.org/search?q=nipype">User</a> · <a href="https://mail.python.org/mailman/listinfo/neuroimaging">Developer</a></li>
    <li>Chat: <a href="https://gitter.im/nipy/nipype">Gitter</a> · <a href="https://brainhack.slack.com/messages/C1FR76RAL">Slack</a></li>
    <li><a href="about.html#funding">Funding</a> · <a href="http://nipy.org/software/license/index.html"><img src="https://img.shields.io/pypi/l/nipype.svg" alt="License"></a></li>
    <li><a href="https://travis-ci.org/nipy/nipype"><img src="https://travis-ci.org/nipy/nipype.png?branch=master" alt="travis"></a> · <a href='https://codecov.io/gh/nipy/nipype'><img src='https://codecov.io/gh/nipy/nipype/branch/master/graph/badge.svg' alt='Coverage Status' /></a></li>
    <a href='https://pypi.python.org/pypi/nipype/'><img src='https://img.shields.io/pypi/pyversions/nipype.svg' alt='Python Versions' /></a></li>
</ul>

 
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="interfaces-afni-model">
<h1>interfaces.afni.model<a class="headerlink" href="#interfaces-afni-model" title="Permalink to this headline">¶</a></h1>
<span class="target" id="nipype-interfaces-afni-model-deconvolve"></span><div class="section" id="deconvolve">
<span id="index-0"></span><h2>Deconvolve<a class="headerlink" href="#deconvolve" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://github.com/nipy/nipype/tree/93c475b/nipype/interfaces/afni/model.py#L231">Link to code</a></p>
<p>Wraps command <strong>3dDeconvolve</strong></p>
<p>Performs OLS regression given a 4D neuroimage file and stimulus timings</p>
<p>For complete details, see the <a class="reference external" href="https://afni.nimh.nih.gov/pub/dist/doc/program_help/3dDeconvolve.html">3dDeconvolve Documentation.</a></p>
<div class="section" id="examples">
<h3>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nipype.interfaces</span> <span class="k">import</span> <span class="n">afni</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">deconvolve</span> <span class="o">=</span> <span class="n">afni</span><span class="o">.</span><span class="n">Deconvolve</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">deconvolve</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">in_files</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;functional.nii&#39;</span><span class="p">,</span> <span class="s1">&#39;functional2.nii&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">deconvolve</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">out_file</span> <span class="o">=</span> <span class="s1">&#39;output.nii&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">deconvolve</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">x1D</span> <span class="o">=</span> <span class="s1">&#39;output.1D&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stim_times</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;timeseries.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;SPMG1(4)&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">deconvolve</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">stim_times</span> <span class="o">=</span> <span class="n">stim_times</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">deconvolve</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">stim_label</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;Houses&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">deconvolve</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">gltsym</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;SYM: +Houses&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">deconvolve</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">glt_label</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;Houses&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">deconvolve</span><span class="o">.</span><span class="n">cmdline</span>
<span class="go">&quot;3dDeconvolve -input functional.nii functional2.nii -bucket output.nii -x1D output.1D -num_stimts 1 -stim_times 1 timeseries.txt &#39;SPMG1(4)&#39; -stim_label 1 Houses -num_glt 1 -gltsym &#39;SYM: +Houses&#39; -glt_label 1 Houses&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">res</span> <span class="o">=</span> <span class="n">deconvolve</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>  <span class="c1"># doctest: +SKIP</span>
</pre></div>
</div>
<p>Inputs:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>[Mandatory]

[Optional]
STATmask: (an existing file name)
        build a mask from provided file, and use this mask for the purpose
        of reporting truncation-to float issues AND for computing the FDR
        curves. The actual results ARE not masked with this option (only
        with &#39;mask&#39; or &#39;automask&#39; options).
        flag: -STATmask %s
TR_1D: (a float)
        TR to use with &#39;input1D&#39;. This option has no effect if you do not
        also use &#39;input1D&#39;.
        flag: -TR_1D %f
allzero_OK: (a boolean)
        don&#39;t consider all zero matrix columns to be the type of error that
        &#39;gotforit&#39; is needed to ignore.
        flag: -allzero_OK
args: (a unicode string)
        Additional parameters to the command
        flag: %s
automask: (a boolean)
        build a mask automatically from input data (will be slow for long
        time series datasets)
        flag: -automask
cbucket: (a unicode string)
        Name for dataset in which to save the regression coefficients (no
        statistics). This dataset will be used in a -xrestore run [not yet
        implemented] instead of the bucket dataset, if possible.
        flag: -cbucket %s
censor: (an existing file name)
        filename of censor .1D time series. This is a file of 1s and 0s,
        indicating which time points are to be included (1) and which are to
        be excluded (0).
        flag: -censor %s
dmbase: (a boolean)
        de-mean baseline time series (default if &#39;polort&#39; &gt;= 0)
        flag: -dmbase
dname: (a tuple of the form: (a unicode string, a unicode string))
        set environmental variable to provided value
        flag: -D%s=%s
environ: (a dictionary with keys which are a bytes or None or a value
         of class &#39;str&#39; and with values which are a bytes or None or a value
         of class &#39;str&#39;, nipype default value: {})
        Environment variables
force_TR: (a float)
        use this value instead of the TR in the &#39;input&#39; dataset. (It&#39;s
        better to fix the input using Refit.)
        flag: -force_TR %f, position: 0
fout: (a boolean)
        output F-statistic for each stimulus
        flag: -fout
global_times: (a boolean)
        use global timing for stimulus timing files
        flag: -global_times
        mutually_exclusive: local_times
glt_label: (a list of items which are a tuple of the form: (an
         integer (int or long), a unicode string))
        general linear test (i.e., contrast) labels
        flag: -glt_label %d %s..., position: -1
        requires: gltsym
gltsym: (a list of items which are a unicode string)
        general linear tests (i.e., contrasts) using symbolic conventions
        (e.g., &#39;+Label1 -Label2&#39;)
        flag: -gltsym &#39;SYM: %s&#39;..., position: -2
goforit: (an integer (int or long))
        use this to proceed even if the matrix has bad problems (e.g.,
        duplicate columns, large condition number, etc.).
        flag: -GOFORIT %i
in_files: (a list of items which are an existing file name)
        filenames of 3D+time input datasets. More than one filename can be
        given and the datasets will be auto-catenated in time. You can input
        a 1D time series file here, but the time axis should run along the
        ROW direction, not the COLUMN direction as in the &#39;input1D&#39; option.
        flag: -input %s, position: 1
input1D: (an existing file name)
        filename of single (fMRI) .1D time series where time runs down the
        column.
        flag: -input1D %s
legendre: (a boolean)
        use Legendre polynomials for null hypothesis (baseline model)
        flag: -legendre
local_times: (a boolean)
        use local timing for stimulus timing files
        flag: -local_times
        mutually_exclusive: global_times
mask: (an existing file name)
        filename of 3D mask dataset; only data time series from within the
        mask will be analyzed; results for voxels outside the mask will be
        set to zero.
        flag: -mask %s
noblock: (a boolean)
        normally, if you input multiple datasets with &#39;input&#39;, then the
        separate datasets are taken to be separate image runs that get
        separate baseline models. Use this options if you want to have the
        program consider these to be all one big run.* If any of the input
        dataset has only 1 sub-brick, then this option is automatically
        invoked!* If the auto-catenation feature isn&#39;t used, then this
        option has no effect, no how, no way.
        flag: -noblock
nocond: (a boolean)
        DON&#39;T calculate matrix condition number
        flag: -nocond
nodmbase: (a boolean)
        don&#39;t de-mean baseline time series
        flag: -nodmbase
nofdr: (a boolean)
        Don&#39;t compute the statistic-vs-FDR curves for the bucket dataset.
        flag: -noFDR
nolegendre: (a boolean)
        use power polynomials for null hypotheses. Don&#39;t do this unless you
        are crazy!
        flag: -nolegendre
nosvd: (a boolean)
        use Gaussian elimination instead of SVD
        flag: -nosvd
num_glt: (an integer (int or long))
        number of general linear tests (i.e., contrasts)
        flag: -num_glt %d, position: -3
num_stimts: (an integer (int or long))
        number of stimulus timing files
        flag: -num_stimts %d, position: -6
num_threads: (an integer (int or long))
        run the program with provided number of sub-processes
        flag: -jobs %d
ortvec: (a tuple of the form: (an existing file name, a unicode
         string))
        this option lets you input a rectangular array of 1 or more baseline
        vectors from a file. This method is a fast way to include a lot of
        baseline regressors in one step.
        flag: -ortvec %s %s
out_file: (a file name)
        output statistics file
        flag: -bucket %s
outputtype: (&#39;NIFTI&#39; or &#39;AFNI&#39; or &#39;NIFTI_GZ&#39;)
        AFNI output filetype
polort: (an integer (int or long))
        degree of polynomial corresponding to the null hypothesis [default:
        1]
        flag: -polort %d
rmsmin: (a float)
        minimum rms error to reject reduced model (default = 0; don&#39;t use
        this option normally!)
        flag: -rmsmin %f
rout: (a boolean)
        output the R^2 statistic for each stimulus
        flag: -rout
sat: (a boolean)
        check the dataset time series for initial saturation transients,
        which should normally have been excised before data analysis.
        flag: -sat
        mutually_exclusive: trans
singvals: (a boolean)
        print out the matrix singular values
        flag: -singvals
stim_label: (a list of items which are a tuple of the form: (an
         integer (int or long), a unicode string))
        label for kth input stimulus (e.g., Label1)
        flag: -stim_label %d %s..., position: -4
        requires: stim_times
stim_times: (a list of items which are a tuple of the form: (an
         integer (int or long), an existing file name, a unicode string))
        generate a response model from a set of stimulus times given in
        file.
        flag: -stim_times %d %s &#39;%s&#39;..., position: -5
stim_times_subtract: (a float)
        this option means to subtract specified seconds from each time
        encountered in any &#39;stim_times&#39; option. The purpose of this option
        is to make it simple to adjust timing files for the removal of
        images from the start of each imaging run.
        flag: -stim_times_subtract %f
svd: (a boolean)
        use SVD instead of Gaussian elimination (default)
        flag: -svd
tout: (a boolean)
        output the T-statistic for each stimulus
        flag: -tout
trans: (a boolean)
        check the dataset time series for initial saturation transients,
        which should normally have been excised before data analysis.
        flag: -trans
        mutually_exclusive: sat
vout: (a boolean)
        output the sample variance (MSE) for each stimulus
        flag: -vout
x1D: (a file name)
        specify name for saved X matrix
        flag: -x1D %s
x1D_stop: (a boolean)
        stop running after writing .xmat.1D file
        flag: -x1D_stop
</pre></div>
</div>
<p>Outputs:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cbucket</span><span class="p">:</span> <span class="p">(</span><span class="n">a</span> <span class="n">file</span> <span class="n">name</span><span class="p">)</span>
        <span class="n">output</span> <span class="n">regression</span> <span class="n">coefficients</span> <span class="n">file</span> <span class="p">(</span><span class="k">if</span> <span class="n">generated</span><span class="p">)</span>
<span class="n">out_file</span><span class="p">:</span> <span class="p">(</span><span class="n">an</span> <span class="n">existing</span> <span class="n">file</span> <span class="n">name</span><span class="p">)</span>
        <span class="n">output</span> <span class="n">statistics</span> <span class="n">file</span>
<span class="n">reml_script</span><span class="p">:</span> <span class="p">(</span><span class="n">an</span> <span class="n">existing</span> <span class="n">file</span> <span class="n">name</span><span class="p">)</span>
        <span class="n">automatical</span> <span class="n">generated</span> <span class="n">script</span> <span class="n">to</span> <span class="n">run</span> <span class="mi">3</span><span class="n">dREMLfit</span>
<span class="n">x1D</span><span class="p">:</span> <span class="p">(</span><span class="n">an</span> <span class="n">existing</span> <span class="n">file</span> <span class="n">name</span><span class="p">)</span>
        <span class="n">save</span> <span class="n">out</span> <span class="n">X</span> <span class="n">matrix</span>
</pre></div>
</div>
<p>References::
BibTeX(<a class="reference external" href="mailto:'&#37;&#52;&#48;article{Cox1996">‘<span>&#64;</span>article{Cox1996</a>,author={R.W. Cox},title={AFNI: software for analysis and visualization of functional magnetic resonance neuroimages},journal={Computers and Biomedical research},volume={29},number={3},pages={162-173},year={1996},}’, key=’Cox1996’)
BibTeX(<a class="reference external" href="mailto:'&#37;&#52;&#48;article{CoxHyde1997">‘<span>&#64;</span>article{CoxHyde1997</a>,author={R.W. Cox and J.S. Hyde},title={Software tools for analysis and visualization of fMRI data},journal={NMR in Biomedicine},volume={10},number={45},pages={171-178},year={1997},}’, key=’CoxHyde1997’)</p>
<span class="target" id="nipype-interfaces-afni-model-remlfit"></span></div>
</div>
<div class="section" id="remlfit">
<span id="index-1"></span><h2>Remlfit<a class="headerlink" href="#remlfit" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://github.com/nipy/nipype/tree/93c475b/nipype/interfaces/afni/model.py#L545">Link to code</a></p>
<p>Wraps command <strong>3dREMLfit</strong></p>
<p>Performs Generalized least squares time series fit with Restricted
Maximum Likelihood (REML) estimation of the temporal auto-correlation
structure.</p>
<p>For complete details, see the <a class="reference external" href="https://afni.nimh.nih.gov/pub/dist/doc/program_help/3dREMLfit.html">3dREMLfit Documentation.</a></p>
<div class="section" id="id1">
<h3>Examples<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nipype.interfaces</span> <span class="k">import</span> <span class="n">afni</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">remlfit</span> <span class="o">=</span> <span class="n">afni</span><span class="o">.</span><span class="n">Remlfit</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">remlfit</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">in_files</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;functional.nii&#39;</span><span class="p">,</span> <span class="s1">&#39;functional2.nii&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">remlfit</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">out_file</span> <span class="o">=</span> <span class="s1">&#39;output.nii&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">remlfit</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">matrix</span> <span class="o">=</span> <span class="s1">&#39;output.1D&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">remlfit</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">gltsym</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;SYM: +Lab1 -Lab2&#39;</span><span class="p">,</span> <span class="s1">&#39;TestSYM&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;timeseries.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;TestFile&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">remlfit</span><span class="o">.</span><span class="n">cmdline</span>
<span class="go">&#39;3dREMLfit -gltsym &quot;SYM: +Lab1 -Lab2&quot; TestSYM -gltsym &quot;timeseries.txt&quot; TestFile -input &quot;functional.nii functional2.nii&quot; -matrix output.1D -Rbuck output.nii&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">res</span> <span class="o">=</span> <span class="n">remlfit</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>  <span class="c1"># doctest: +SKIP</span>
</pre></div>
</div>
<p>Inputs:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>[Mandatory]
in_files: (a list of items which are an existing file name)
        Read time series dataset
        flag: -input &quot;%s&quot;
matrix: (a file name)
        the design matrix file, which should have been output from
        Deconvolve via the &#39;x1D&#39; option
        flag: -matrix %s

[Optional]
STATmask: (an existing file name)
        filename of 3D mask dataset to be used for the purpose of reporting
        truncation-to float issues AND for computing the FDR curves. The
        actual results ARE not masked with this option (only with &#39;mask&#39; or
        &#39;automask&#39; options).
        flag: -STATmask %s
addbase: (a list of items which are an existing file name)
        file(s) to add baseline model columns to the matrix with this
        option. Each column in the specified file(s) will be appended to the
        matrix. File(s) must have at least as many rows as the matrix does.
        flag: -addbase %s
args: (a unicode string)
        Additional parameters to the command
        flag: %s
automask: (a boolean, nipype default value: False)
        build a mask automatically from input data (will be slow for long
        time series datasets)
        flag: -automask
dsort: (an existing file name)
        4D dataset to be used as voxelwise baseline regressor
        flag: -dsort %s
dsort_nods: (a boolean)
        if &#39;dsort&#39; option is used, this command will output additional
        results files excluding the &#39;dsort&#39; file
        flag: -dsort_nods
        requires: dsort
environ: (a dictionary with keys which are a bytes or None or a value
         of class &#39;str&#39; and with values which are a bytes or None or a value
         of class &#39;str&#39;, nipype default value: {})
        Environment variables
errts_file: (a file name)
        output dataset for REML residuals = data - fitted model
        flag: -Rerrts %s
fitts_file: (a file name)
        ouput dataset for REML fitted model
        flag: -Rfitts %s
fout: (a boolean)
        output F-statistic for each stimulus
        flag: -fout
glt_file: (a file name)
        output dataset for beta + statistics from the REML estimation, but
        ONLY for the GLTs added on the REMLfit command line itself via
        &#39;gltsym&#39;; GLTs from Deconvolve&#39;s command line will NOT be included.
        flag: -Rglt %s
gltsym: (a list of items which are a tuple of the form: (an existing
         file name, a unicode string) or a tuple of the form: (a unicode
         string, a unicode string))
        read a symbolic GLT from input file and associate it with a label.
        As in Deconvolve, you can also use the &#39;SYM:&#39; method to provide the
        definition of the GLT directly as a string (e.g., with &#39;SYM: +Label1
        -Label2&#39;). Unlike Deconvolve, you MUST specify &#39;SYM: &#39; if providing
        the GLT directly as a string instead of from a file
        flag: -gltsym &quot;%s&quot; %s...
mask: (an existing file name)
        filename of 3D mask dataset; only data time series from within the
        mask will be analyzed; results for voxels outside the mask will be
        set to zero.
        flag: -mask %s
matim: (a file name)
        read a standard file as the matrix. You can use only Col as a name
        in GLTs with these nonstandard matrix input methods, since the other
        names come from the &#39;matrix&#39; file. These mutually exclusive options
        are ignored if &#39;matrix&#39; is used.
        flag: -matim %s
        mutually_exclusive: matrix
nobout: (a boolean)
        do NOT add baseline (null hypothesis) regressor betas to the
        &#39;rbeta_file&#39; and/or &#39;obeta_file&#39; output datasets.
        flag: -nobout
nodmbase: (a boolean)
        by default, baseline columns added to the matrix via &#39;addbase&#39; or
        &#39;slibase&#39; or &#39;dsort&#39; will each have their mean removed (as is done
        in Deconvolve); this option turns this centering off
        flag: -nodmbase
        requires: addbase, dsort
nofdr: (a boolean)
        do NOT add FDR curve data to bucket datasets; FDR curves can take a
        long time if &#39;tout&#39; is used
        flag: -noFDR
num_threads: (an integer (int or long), nipype default value: 1)
        set number of threads
obeta: (a file name)
        dataset for beta weights from the OLSQ estimation
        flag: -Obeta %s
obuck: (a file name)
        dataset for beta + statistics from the OLSQ estimation
        flag: -Obuck %s
oerrts: (a file name)
        dataset for OLSQ residuals (data - fitted model)
        flag: -Oerrts %s
ofitts: (a file name)
        dataset for OLSQ fitted model
        flag: -Ofitts %s
oglt: (a file name)
        dataset for beta + statistics from &#39;gltsym&#39; options
        flag: -Oglt %s
out_file: (a file name)
        output dataset for beta + statistics from the REML estimation; also
        contains the results of any GLT analysis requested in the Deconvolve
        setup, similar to the &#39;bucket&#39; output from Deconvolve. This dataset
        does NOT get the betas (or statistics) of those regressors marked as
        &#39;baseline&#39; in the matrix file.
        flag: -Rbuck %s
outputtype: (&#39;NIFTI&#39; or &#39;AFNI&#39; or &#39;NIFTI_GZ&#39;)
        AFNI output filetype
ovar: (a file name)
        dataset for OLSQ st.dev. parameter (kind of boring)
        flag: -Ovar %s
polort: (an integer (int or long))
        if no &#39;matrix&#39; option is given, AND no &#39;matim&#39; option, create a
        matrix with Legendre polynomial regressorsup to the specified order.
        The default value is 0, whichproduces a matrix with a single column
        of all ones
        flag: -polort %d
        mutually_exclusive: matrix
quiet: (a boolean)
        turn off most progress messages
        flag: -quiet
rbeta_file: (a file name)
        output dataset for beta weights from the REML estimation, similar to
        the &#39;cbucket&#39; output from Deconvolve. This dataset will contain all
        the beta weights, for baseline and stimulus regressors alike, unless
        the &#39;-nobout&#39; option is given -- in that case, this dataset will
        only get the betas for the stimulus regressors.
        flag: -Rbeta %s
rout: (a boolean)
        output the R^2 statistic for each stimulus
        flag: -rout
slibase: (a list of items which are an existing file name)
        similar to &#39;addbase&#39; in concept, BUT each specified file must have
        an integer multiple of the number of slices in the input dataset(s);
        then, separate regression matrices are generated for each slice,
        with the first column of the file appended to the matrix for the
        first slice of the dataset, the second column of the file appended
        to the matrix for the first slice of the dataset, and so on.
        Intended to help model physiological noise in FMRI, or other effects
        you want to regress out that might change significantly in the
        inter-slice time intervals. This will slow the program down, and
        make it use a lot more memory (to hold all the matrix stuff).
        flag: -slibase %s
slibase_sm: (a list of items which are an existing file name)
        similar to &#39;slibase&#39;, BUT each file much be in slice major order
        (i.e. all slice0 columns come first, then all slice1 columns, etc).
        flag: -slibase_sm %s
tout: (a boolean)
        output the T-statistic for each stimulus; if you use &#39;out_file&#39; and
        do not give any of &#39;fout&#39;, &#39;tout&#39;,or &#39;rout&#39;, then the program
        assumes &#39;fout&#39; is activated.
        flag: -tout
usetemp: (a boolean)
        write intermediate stuff to disk, to economize on RAM. Using this
        option might be necessary to run with &#39;slibase&#39; and with &#39;Grid&#39;
        values above the default, since the program has to store a large
        number of matrices for such a problem: two for every slice and for
        every (a,b) pair in the ARMA parameter grid. Temporary files are
        written to the directory given in environment variable TMPDIR, or in
        /tmp, or in ./ (preference is in that order)
        flag: -usetemp
var_file: (a file name)
        output dataset for REML variance parameters
        flag: -Rvar %s
verb: (a boolean)
        turns on more progress messages, including memory usage progress
        reports at various stages
        flag: -verb
wherr_file: (a file name)
        dataset for REML residual, whitened using the estimated ARMA(1,1)
        correlation matrix of the noise
        flag: -Rwherr %s
</pre></div>
</div>
<p>Outputs:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">errts_file</span><span class="p">:</span> <span class="p">(</span><span class="n">a</span> <span class="n">file</span> <span class="n">name</span><span class="p">)</span>
        <span class="n">output</span> <span class="n">dataset</span> <span class="k">for</span> <span class="n">REML</span> <span class="n">residuals</span> <span class="o">=</span> <span class="n">data</span> <span class="o">-</span> <span class="n">fitted</span> <span class="n">model</span> <span class="p">(</span><span class="k">if</span>
        <span class="n">generated</span>
<span class="n">fitts_file</span><span class="p">:</span> <span class="p">(</span><span class="n">a</span> <span class="n">file</span> <span class="n">name</span><span class="p">)</span>
        <span class="n">ouput</span> <span class="n">dataset</span> <span class="k">for</span> <span class="n">REML</span> <span class="n">fitted</span> <span class="n">model</span> <span class="p">(</span><span class="k">if</span> <span class="n">generated</span><span class="p">)</span>
<span class="n">glt_file</span><span class="p">:</span> <span class="p">(</span><span class="n">a</span> <span class="n">file</span> <span class="n">name</span><span class="p">)</span>
        <span class="n">output</span> <span class="n">dataset</span> <span class="k">for</span> <span class="n">beta</span> <span class="o">+</span> <span class="n">statistics</span> <span class="kn">from</span> <span class="nn">the</span> <span class="n">REML</span> <span class="n">estimation</span><span class="p">,</span> <span class="n">but</span>
        <span class="n">ONLY</span> <span class="k">for</span> <span class="n">the</span> <span class="n">GLTs</span> <span class="n">added</span> <span class="n">on</span> <span class="n">the</span> <span class="n">REMLfit</span> <span class="n">command</span> <span class="n">line</span> <span class="n">itself</span> <span class="n">via</span>
        <span class="s1">&#39;gltsym&#39;</span> <span class="p">(</span><span class="k">if</span> <span class="n">generated</span><span class="p">)</span>
<span class="n">obeta</span><span class="p">:</span> <span class="p">(</span><span class="n">a</span> <span class="n">file</span> <span class="n">name</span><span class="p">)</span>
        <span class="n">dataset</span> <span class="k">for</span> <span class="n">beta</span> <span class="n">weights</span> <span class="kn">from</span> <span class="nn">the</span> <span class="n">OLSQ</span> <span class="n">estimation</span> <span class="p">(</span><span class="k">if</span> <span class="n">generated</span><span class="p">)</span>
<span class="n">obuck</span><span class="p">:</span> <span class="p">(</span><span class="n">a</span> <span class="n">file</span> <span class="n">name</span><span class="p">)</span>
        <span class="n">dataset</span> <span class="k">for</span> <span class="n">beta</span> <span class="o">+</span> <span class="n">statistics</span> <span class="kn">from</span> <span class="nn">the</span> <span class="n">OLSQ</span> <span class="n">estimation</span> <span class="p">(</span><span class="k">if</span>
        <span class="n">generated</span><span class="p">)</span>
<span class="n">oerrts</span><span class="p">:</span> <span class="p">(</span><span class="n">a</span> <span class="n">file</span> <span class="n">name</span><span class="p">)</span>
        <span class="n">dataset</span> <span class="k">for</span> <span class="n">OLSQ</span> <span class="n">residuals</span> <span class="o">=</span> <span class="n">data</span> <span class="o">-</span> <span class="n">fitted</span> <span class="n">model</span> <span class="p">(</span><span class="k">if</span> <span class="n">generated</span>
<span class="n">ofitts</span><span class="p">:</span> <span class="p">(</span><span class="n">a</span> <span class="n">file</span> <span class="n">name</span><span class="p">)</span>
        <span class="n">dataset</span> <span class="k">for</span> <span class="n">OLSQ</span> <span class="n">fitted</span> <span class="n">model</span> <span class="p">(</span><span class="k">if</span> <span class="n">generated</span><span class="p">)</span>
<span class="n">oglt</span><span class="p">:</span> <span class="p">(</span><span class="n">a</span> <span class="n">file</span> <span class="n">name</span><span class="p">)</span>
        <span class="n">dataset</span> <span class="k">for</span> <span class="n">beta</span> <span class="o">+</span> <span class="n">statistics</span> <span class="kn">from</span> <span class="s1">&#39;gltsym&#39;</span> <span class="n">options</span> <span class="p">(</span><span class="k">if</span> <span class="n">generated</span>
<span class="n">out_file</span><span class="p">:</span> <span class="p">(</span><span class="n">a</span> <span class="n">file</span> <span class="n">name</span><span class="p">)</span>
        <span class="n">dataset</span> <span class="k">for</span> <span class="n">beta</span> <span class="o">+</span> <span class="n">statistics</span> <span class="kn">from</span> <span class="nn">the</span> <span class="n">REML</span> <span class="n">estimation</span> <span class="p">(</span><span class="k">if</span> <span class="n">generated</span>
<span class="n">ovar</span><span class="p">:</span> <span class="p">(</span><span class="n">a</span> <span class="n">file</span> <span class="n">name</span><span class="p">)</span>
        <span class="n">dataset</span> <span class="k">for</span> <span class="n">OLSQ</span> <span class="n">st</span><span class="o">.</span><span class="n">dev</span><span class="o">.</span> <span class="n">parameter</span> <span class="p">(</span><span class="k">if</span> <span class="n">generated</span><span class="p">)</span>
<span class="n">rbeta_file</span><span class="p">:</span> <span class="p">(</span><span class="n">a</span> <span class="n">file</span> <span class="n">name</span><span class="p">)</span>
        <span class="n">output</span> <span class="n">dataset</span> <span class="k">for</span> <span class="n">beta</span> <span class="n">weights</span> <span class="kn">from</span> <span class="nn">the</span> <span class="n">REML</span> <span class="n">estimation</span> <span class="p">(</span><span class="k">if</span>
        <span class="n">generated</span>
<span class="n">var_file</span><span class="p">:</span> <span class="p">(</span><span class="n">a</span> <span class="n">file</span> <span class="n">name</span><span class="p">)</span>
        <span class="n">dataset</span> <span class="k">for</span> <span class="n">REML</span> <span class="n">variance</span> <span class="n">parameters</span> <span class="p">(</span><span class="k">if</span> <span class="n">generated</span><span class="p">)</span>
<span class="n">wherr_file</span><span class="p">:</span> <span class="p">(</span><span class="n">a</span> <span class="n">file</span> <span class="n">name</span><span class="p">)</span>
        <span class="n">dataset</span> <span class="k">for</span> <span class="n">REML</span> <span class="n">residual</span><span class="p">,</span> <span class="n">whitened</span> <span class="n">using</span> <span class="n">the</span> <span class="n">estimated</span> <span class="n">ARMA</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">correlation</span> <span class="n">matrix</span> <span class="n">of</span> <span class="n">the</span> <span class="n">noise</span> <span class="p">(</span><span class="k">if</span> <span class="n">generated</span><span class="p">)</span>
</pre></div>
</div>
<p>References::
BibTeX(<a class="reference external" href="mailto:'&#37;&#52;&#48;article{Cox1996">‘<span>&#64;</span>article{Cox1996</a>,author={R.W. Cox},title={AFNI: software for analysis and visualization of functional magnetic resonance neuroimages},journal={Computers and Biomedical research},volume={29},number={3},pages={162-173},year={1996},}’, key=’Cox1996’)
BibTeX(<a class="reference external" href="mailto:'&#37;&#52;&#48;article{CoxHyde1997">‘<span>&#64;</span>article{CoxHyde1997</a>,author={R.W. Cox and J.S. Hyde},title={Software tools for analysis and visualization of fMRI data},journal={NMR in Biomedicine},volume={10},number={45},pages={171-178},year={1997},}’, key=’CoxHyde1997’)</p>
<span class="target" id="nipype-interfaces-afni-model-synthesize"></span></div>
</div>
<div class="section" id="synthesize">
<span id="index-2"></span><h2>Synthesize<a class="headerlink" href="#synthesize" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://github.com/nipy/nipype/tree/93c475b/nipype/interfaces/afni/model.py#L634">Link to code</a></p>
<p>Wraps command <strong>3dSynthesize</strong></p>
<dl class="docutils">
<dt>Reads a ‘-cbucket’ dataset and a ‘.xmat.1D’ matrix from 3dDeconvolve,</dt>
<dd>and synthesizes a fit dataset using user-selected sub-bricks and
matrix columns.</dd>
</dl>
<p>For complete details, see the <a class="reference external" href="https://afni.nimh.nih.gov/pub/dist/doc/program_help/3dSynthesize.html">3dSynthesize Documentation.</a></p>
<div class="section" id="id2">
<h3>Examples<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nipype.interfaces</span> <span class="k">import</span> <span class="n">afni</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">synthesize</span> <span class="o">=</span> <span class="n">afni</span><span class="o">.</span><span class="n">Synthesize</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">synthesize</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">cbucket</span> <span class="o">=</span> <span class="s1">&#39;functional.nii&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">synthesize</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">matrix</span> <span class="o">=</span> <span class="s1">&#39;output.1D&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">synthesize</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">select</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;baseline&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">synthesize</span><span class="o">.</span><span class="n">cmdline</span>
<span class="go">&#39;3dSynthesize -cbucket functional.nii -matrix output.1D -select baseline&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">syn</span> <span class="o">=</span> <span class="n">synthesize</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>  <span class="c1"># doctest: +SKIP</span>
</pre></div>
</div>
<p>Inputs:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>[Mandatory]
cbucket: (a file name)
        Read the dataset output from 3dDeconvolve via the &#39;-cbucket&#39; option.
        flag: -cbucket %s
matrix: (a file name)
        Read the matrix output from 3dDeconvolve via the &#39;-x1D&#39; option.
        flag: -matrix %s
select: (a list of items which are a unicode string)
        A list of selected columns from the matrix (and the corresponding
        coefficient sub-bricks from the cbucket). Valid types include
        &#39;baseline&#39;, &#39;polort&#39;, &#39;allfunc&#39;, &#39;allstim&#39;, &#39;all&#39;, Can also provide
        &#39;something&#39; where something matches a stim_label from 3dDeconvolve,
        and &#39;digits&#39; where digits are the numbers of the select matrix
        columns by numbers (starting at 0), or number ranges of the form
        &#39;3..7&#39; and &#39;3-7&#39;.
        flag: -select %s

[Optional]
TR: (a float)
        TR to set in the output. The default value of TR is read from the
        header of the matrix file.
        flag: -TR %f
args: (a unicode string)
        Additional parameters to the command
        flag: %s
cenfill: (&#39;zero&#39; or &#39;nbhr&#39; or &#39;none&#39;)
        Determines how censored time points from the 3dDeconvolve run will
        be filled. Valid types are &#39;zero&#39;, &#39;nbhr&#39; and &#39;none&#39;.
        flag: -cenfill %s
dry_run: (a boolean)
        Don&#39;t compute the output, just check the inputs.
        flag: -dry
environ: (a dictionary with keys which are a bytes or None or a value
         of class &#39;str&#39; and with values which are a bytes or None or a value
         of class &#39;str&#39;, nipype default value: {})
        Environment variables
num_threads: (an integer (int or long), nipype default value: 1)
        set number of threads
out_file: (a file name)
        output dataset prefix name (default &#39;syn&#39;)
        flag: -prefix %s
outputtype: (&#39;NIFTI&#39; or &#39;AFNI&#39; or &#39;NIFTI_GZ&#39;)
        AFNI output filetype
</pre></div>
</div>
<p>Outputs:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">out_file</span><span class="p">:</span> <span class="p">(</span><span class="n">an</span> <span class="n">existing</span> <span class="n">file</span> <span class="n">name</span><span class="p">)</span>
        <span class="n">output</span> <span class="n">file</span>
</pre></div>
</div>
<p>References::
BibTeX(<a class="reference external" href="mailto:'&#37;&#52;&#48;article{Cox1996">‘<span>&#64;</span>article{Cox1996</a>,author={R.W. Cox},title={AFNI: software for analysis and visualization of functional magnetic resonance neuroimages},journal={Computers and Biomedical research},volume={29},number={3},pages={162-173},year={1996},}’, key=’Cox1996’)
BibTeX(<a class="reference external" href="mailto:'&#37;&#52;&#48;article{CoxHyde1997">‘<span>&#64;</span>article{CoxHyde1997</a>,author={R.W. Cox and J.S. Hyde},title={Software tools for analysis and visualization of fMRI data},journal={NMR in Biomedicine},volume={10},number={45},pages={171-178},year={1997},}’, key=’CoxHyde1997’)</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2009-18, Neuroimaging in Python team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.1.
    </div>
<div class="footer">This page uses <a href="http://analytics.google.com/">
Google Analytics</a> to collect statistics. You can disable it by blocking
the JavaScript coming from www.google-analytics.com.
</div>

  </body>
</html>