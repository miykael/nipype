
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Neuroimaging in Python - Pipelines and Interfaces &#8212; nipy pipeline and interfaces package</title>
    <link rel="stylesheet" href="../_static/nipype.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
 
<meta name="keywords" content="nipype, neuroimaging, pipeline, workflow, parallel, python, neuroscience">
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-339450-7', 'nipy.org/nipype');
  ga('send', 'pageview');
</script>
<script>
  ((window.gitter = {}).chat = {}).options = {
    room: 'nipy/nipype'
  };
</script>
<script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async defer></script>

  </head><body>
<div class="header-wrapper">
    <div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px">
            <a href="../index.html">
            <img src="../_static/nipype-banner-bg.png" alt="NIPY logo"  border="0" />
        <div style="margin-top: 1em;
                border-top: 1px solid #AAA;
                border-bottom: 1px solid #AAA;
                border-radius: 5px;
                padding: 3px 1em;">
            <link rel="stylesheet" href="http://www.google.com/cse/style/look/default.css" type="text/css" />
<style type="text/css">
    a.navbar {
    color: ;
    letter-spacing: .05em;
    font-weight: bold;
        }
</style>

<a class="navbar" href="../index.html">Home</a> ·
<a class="navbar" href="../quickstart.html">Quickstart</a> ·
<a class="navbar" href="../documentation.html">Documentation</a> ·
<a class="navbar" href="../about.html">About</a> ·
<a class="navbar" href="http://nipy.org">Nipy</a>

        </div>
    </div>
</div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<style type="text/css">
    input.gsc-input {
        border-color: #BCCDF0;
    }
    input.gsc-search-button {
        border-color: #666666;
        background-color: #CECECE;
        padding: 0;
    }
    div.sphinxsidebar .tile {
        border: 1px solid #D1DDE2;
        border-radius: 10px;
        background-color: #E1E8EC;
        padding-left: 0.5em;
        margin: 1em 0;
    }
    div.sphinxsidebar input[type="text"] {
        width: 100%;
    }
    div.sphinxsidebar input[type="submit"] {
        width: 100%;
    }
</style>

<div class="sidebarblock">
    <script>
      (function() {
        var cx = '010960497803984932957:u8pmqf7fdoq';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:search></gcse:search>
</div>

  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">How to wrap a command line tool</a><ul>
<li><a class="reference internal" href="#defining-inputs-and-outputs">Defining inputs and outputs</a></li>
<li><a class="reference internal" href="#command-line-executable">Command line executable</a></li>
<li><a class="reference internal" href="#creating-outputs-on-the-fly">Creating outputs on the fly</a></li>
</ul>
</li>
</ul>

<style type="text/css">
    div.sphinxsidebar .tile {
        border: 1px solid #D1DDE2;
        border-radius: 10px;
        background-color: #E1E8EC;
        padding-left: 0.5em;
        margin: 1em 0;
    }
</style>
<div class="sidebarblock">
    <h3>Versions</h3>

    <div class="tile">
        <table style="width: 100%;">
            <tr style="font-weight: bold;">
                <td align="left">Release</td><td align="right">Devel</td>
            </tr>
            <tr>
                <td align="left">1.1.3</td><td align="right">1.1.4-dev+g93c475b</td>
            </tr>
            <tr>
                <td align="left"><a href="../users/install.html">Download</a></td>
                <td align="right"><a href="https://github.com/nipy/nipype">Github</a></td>
            </tr>
        </table>
    </div>
</div>


<script type="text/javascript">
    (function() {
        var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
        po.src = 'https://apis.google.com/js/plusone.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
    })();
</script>

<h3>Links</h3>

<ul>
    <li>Docs: <a href="http://nipy.org/nipype">Stable</a> · <a href="http://nipype.readthedocs.org/en/latest/">Dev</a></li>
    <li>Code: <a href="http://github.com/nipy/nipype">Github</a> · <a href="http://github.com/nipy/nipype/issues">Bugs-Requests</a></li>
    <li>Forum: <a href="https://neurostars.org/search?q=nipype">User</a> · <a href="https://mail.python.org/mailman/listinfo/neuroimaging">Developer</a></li>
    <li>Chat: <a href="https://gitter.im/nipy/nipype">Gitter</a> · <a href="https://brainhack.slack.com/messages/C1FR76RAL">Slack</a></li>
    <li><a href="about.html#funding">Funding</a> · <a href="http://nipy.org/software/license/index.html"><img src="https://img.shields.io/pypi/l/nipype.svg" alt="License"></a></li>
    <li><a href="https://travis-ci.org/nipy/nipype"><img src="https://travis-ci.org/nipy/nipype.png?branch=master" alt="travis"></a> · <a href='https://codecov.io/gh/nipy/nipype'><img src='https://codecov.io/gh/nipy/nipype/branch/master/graph/badge.svg' alt='Coverage Status' /></a></li>
    <a href='https://pypi.python.org/pypi/nipype/'><img src='https://img.shields.io/pypi/pyversions/nipype.svg' alt='Python Versions' /></a></li>
</ul>

 
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="how-to-wrap-a-command-line-tool">
<span id="interface-devel"></span><h1>How to wrap a command line tool<a class="headerlink" href="#how-to-wrap-a-command-line-tool" title="Permalink to this headline">¶</a></h1>
<p>The aim of this section is to describe how external programs and scripts can be
wrapped for use in Nipype either as interactive interfaces or within the
workflow/pipeline environment. Currently, there is support for command line
executables/scripts and matlab scripts. One can also create pure Python
interfaces. The key to defining interfaces is to provide a formal specification
of inputs and outputs and determining what outputs are generated given a set of
inputs.</p>
<div class="section" id="defining-inputs-and-outputs">
<h2>Defining inputs and outputs<a class="headerlink" href="#defining-inputs-and-outputs" title="Permalink to this headline">¶</a></h2>
<p>In Nipype we use Enthought Traits to define inputs and outputs of the
interfaces. This allows to introduce easy type checking. Inputs and outputs are
grouped into separate classes (usually suffixed with InputSpec and OutputSpec).
For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">ExampleInputSpec</span><span class="p">(</span><span class="n">TraitedSpec</span><span class="p">):</span>
        <span class="n">input_volume</span> <span class="o">=</span> <span class="n">File</span><span class="p">(</span><span class="n">desc</span> <span class="o">=</span> <span class="s2">&quot;Input volume&quot;</span><span class="p">,</span> <span class="n">exists</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span>
                            <span class="n">mandatory</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
        <span class="n">parameter</span> <span class="o">=</span> <span class="n">traits</span><span class="o">.</span><span class="n">Int</span><span class="p">(</span><span class="n">desc</span> <span class="o">=</span> <span class="s2">&quot;some parameter&quot;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">ExampleOutputSpec</span><span class="p">(</span><span class="n">TraitedSpec</span><span class="p">):</span>
        <span class="n">output_volume</span> <span class="o">=</span> <span class="n">File</span><span class="p">(</span><span class="n">desc</span> <span class="o">=</span> <span class="s2">&quot;Output volume&quot;</span><span class="p">,</span> <span class="n">exists</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<p>For the Traits (and Nipype) to work correctly output and input spec has to be
inherited from TraitedSpec (however, this does not have to be direct
inheritance).</p>
<p>Traits (File, Int etc.) have different parameters (called metadata). In the
above example we have used the <code class="docutils literal notranslate"><span class="pre">desc</span></code> metadata which holds human readable
description of the input. The <code class="docutils literal notranslate"><span class="pre">mandatory</span></code> flag forces Nipype to throw an
exception if the input was not set. <code class="docutils literal notranslate"><span class="pre">exists</span></code> is a special flag that works only
for <code class="docutils literal notranslate"><span class="pre">File</span> <span class="pre">traits</span></code> and checks if the provided file exists. More details can be
found at <a class="reference internal" href="interface_specs.html"><span class="doc">Interface Specifications</span></a>.</p>
<p>The input and output specifications have to be connected to the our example
interface class:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Example</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
        <span class="n">input_spec</span> <span class="o">=</span> <span class="n">ExampleInputSpec</span>
        <span class="n">output_spec</span> <span class="o">=</span> <span class="n">ExampleOutputSpec</span>
</pre></div>
</div>
<p>Where the names of the classes grouping inputs and outputs were arbitrary the
names of the fields within the interface they are assigned are not (it always
has to be input_spec and output_spec). Of course this interface does not do much
because we have not specified how to process the inputs and create the outputs.
This can be done in many ways.</p>
</div>
<div class="section" id="command-line-executable">
<h2>Command line executable<a class="headerlink" href="#command-line-executable" title="Permalink to this headline">¶</a></h2>
<p>As with all interfaces command line wrappers need to have inputs defined.
Command line input spec has to inherit from CommandLineInputSpec which adds two
extra inputs: environ (a dictionary of environmental variables), and args (a
string defining extra flags). In addition input spec can define the relation
between the inputs and the generated command line. To achieve this we have
added two metadata: <code class="docutils literal notranslate"><span class="pre">argstr</span></code> (string defining how the argument should be
formated) and <code class="docutils literal notranslate"><span class="pre">position</span></code> (number defining the order of the arguments).
For example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">ExampleInputSpec</span><span class="p">(</span><span class="n">CommandLineSpec</span><span class="p">):</span>
        <span class="n">input_volume</span> <span class="o">=</span> <span class="n">File</span><span class="p">(</span><span class="n">desc</span> <span class="o">=</span> <span class="s2">&quot;Input volume&quot;</span><span class="p">,</span> <span class="n">exists</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span>
                            <span class="n">mandatory</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">position</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">argstr</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">parameter</span> <span class="o">=</span> <span class="n">traits</span><span class="o">.</span><span class="n">Int</span><span class="p">(</span><span class="n">desc</span> <span class="o">=</span> <span class="s2">&quot;some parameter&quot;</span><span class="p">,</span> <span class="n">argstr</span> <span class="o">=</span> <span class="s2">&quot;--param </span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>As you probably noticed the <code class="docutils literal notranslate"><span class="pre">argstr</span></code> is a printf type string with formatting
symbols. For an input defined in InputSpec to be included into the executed
commandline <code class="docutils literal notranslate"><span class="pre">argstr</span></code> has to be included. Additionally inside the main
interface class you need to specify the name of the executable by assigning it
to the <code class="docutils literal notranslate"><span class="pre">_cmd</span></code> field. Also the main interface class needs to inherit from
<code class="xref py py-class docutils literal notranslate"><span class="pre">CommandLine</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Example</span><span class="p">(</span><span class="n">CommandLine</span><span class="p">):</span>
        <span class="n">_cmd</span> <span class="o">=</span> <span class="s1">&#39;my_command&#39;</span>
        <span class="n">input_spec</span> <span class="o">=</span> <span class="n">ExampleInputSpec</span>
        <span class="n">output_spec</span> <span class="o">=</span> <span class="n">ExampleOutputSpec</span>
</pre></div>
</div>
<p>There is one more thing we need to take care of. When the executable finishes
processing it will presumably create some output files. We need to know which
files to look for, check if they exist and expose them to whatever node would
like to use them. This is done by implementing <code class="docutils literal notranslate"><span class="pre">_list_outputs</span></code> method in the
main interface class. Basically what it does is assigning the expected output
files to the fields of our output spec:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">_list_outputs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">outputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_spec</span><span class="p">()</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
        <span class="n">outputs</span><span class="p">[</span><span class="s1">&#39;output_volume&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="s1">&#39;name_of_the_file_this_cmd_made.nii&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">outputs</span>
</pre></div>
</div>
<p>Sometimes the inputs need extra parsing before turning into command line
parameters. For example imagine a parameter selecting between three methods:
“old”, “standard” and “new”. Imagine also that the command line accept this as
a parameter “–method=” accepting 0, 1 or 2. Since we are aiming to make nipype
scripts as informative as possible it’s better to define the inputs as
following:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">ExampleInputSpec</span><span class="p">(</span><span class="n">CommandLineSpec</span><span class="p">):</span>
        <span class="n">method</span> <span class="o">=</span> <span class="n">traits</span><span class="o">.</span><span class="n">Enum</span><span class="p">(</span><span class="s2">&quot;old&quot;</span><span class="p">,</span> <span class="s2">&quot;standard&quot;</span><span class="p">,</span> <span class="s2">&quot;new&quot;</span><span class="p">,</span> <span class="n">desc</span> <span class="o">=</span> <span class="s2">&quot;method&quot;</span><span class="p">,</span>
                             <span class="n">argstr</span><span class="o">=</span><span class="s2">&quot;--method=</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Here we’ve used the Enum trait which restricts input a few fixed options. If we
would leave it as it is it would not work since the argstr is expecting
numbers. We need to do additional parsing by overloading the following method
in the main interface class:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">_format_arg</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">spec</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;method&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">spec</span><span class="o">.</span><span class="n">argstr</span><span class="o">%</span><span class="p">{</span><span class="s2">&quot;old&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;standard&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;new&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">}[</span><span class="n">value</span><span class="p">]</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">(</span><span class="n">Example</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">_format_arg</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">spec</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</pre></div>
</div>
<p>Here is a minimalistic interface for the gzip command:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">nipype.interfaces.base</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">TraitedSpec</span><span class="p">,</span>
    <span class="n">CommandLineInputSpec</span><span class="p">,</span>
    <span class="n">CommandLine</span><span class="p">,</span>
    <span class="n">File</span>
<span class="p">)</span>
<span class="kn">import</span> <span class="nn">os</span>

<span class="k">class</span> <span class="nc">GZipInputSpec</span><span class="p">(</span><span class="n">CommandLineInputSpec</span><span class="p">):</span>
    <span class="n">input_file</span> <span class="o">=</span> <span class="n">File</span><span class="p">(</span><span class="n">desc</span><span class="o">=</span><span class="s2">&quot;File&quot;</span><span class="p">,</span> <span class="n">exists</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">mandatory</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">argstr</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">GZipOutputSpec</span><span class="p">(</span><span class="n">TraitedSpec</span><span class="p">):</span>
    <span class="n">output_file</span> <span class="o">=</span> <span class="n">File</span><span class="p">(</span><span class="n">desc</span> <span class="o">=</span> <span class="s2">&quot;Zip file&quot;</span><span class="p">,</span> <span class="n">exists</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">GZipTask</span><span class="p">(</span><span class="n">CommandLine</span><span class="p">):</span>
    <span class="n">input_spec</span> <span class="o">=</span> <span class="n">GZipInputSpec</span>
    <span class="n">output_spec</span> <span class="o">=</span> <span class="n">GZipOutputSpec</span>
    <span class="n">cmd</span> <span class="o">=</span> <span class="s1">&#39;gzip&#39;</span>

    <span class="k">def</span> <span class="nf">_list_outputs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="n">outputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_spec</span><span class="p">()</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
            <span class="n">outputs</span><span class="p">[</span><span class="s1">&#39;output_file&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">input_file</span> <span class="o">+</span> <span class="s2">&quot;.gz&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">outputs</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>

    <span class="n">zipper</span> <span class="o">=</span> <span class="n">GZipTask</span><span class="p">(</span><span class="n">input_file</span><span class="o">=</span><span class="s1">&#39;an_existing_file&#39;</span><span class="p">)</span>
    <span class="k">print</span> <span class="n">zipper</span><span class="o">.</span><span class="n">cmdline</span>
    <span class="n">zipper</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="creating-outputs-on-the-fly">
<h2>Creating outputs on the fly<a class="headerlink" href="#creating-outputs-on-the-fly" title="Permalink to this headline">¶</a></h2>
<p>In many cases, command line executables will require specifying output file
names as arguments on the command line. We have simplified this procedure with
three additional metadata terms: <code class="docutils literal notranslate"><span class="pre">name_source</span></code>, <code class="docutils literal notranslate"><span class="pre">name_template</span></code>,
<code class="docutils literal notranslate"><span class="pre">keep_extension</span></code>.</p>
<p>For example in the <span class="xref std std-ref">InvWarp</span> class, the
<code class="docutils literal notranslate"><span class="pre">inverse_warp</span></code> parameter is the name of the output file that is created by
the routine.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">InvWarpInputSpec</span><span class="p">(</span><span class="n">FSLCommandInputSpec</span><span class="p">):</span>
    <span class="o">...</span>
    <span class="n">inverse_warp</span> <span class="o">=</span> <span class="n">File</span><span class="p">(</span><span class="n">argstr</span><span class="o">=</span><span class="s1">&#39;--out=</span><span class="si">%s</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">name_source</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;warp&#39;</span><span class="p">],</span>
                        <span class="n">hash_files</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">name_template</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">_inverse&#39;</span><span class="p">,</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>we add several metadata to inputspec.</p>
<dl class="docutils">
<dt>name_source</dt>
<dd>indicates which field to draw from, this field must be the name of a File.</dd>
<dt>hash_files</dt>
<dd>indicates that the input for this field if provided should not be used in
computing the input hash for this interface.</dd>
<dt>name_template (optional)</dt>
<dd>overrides the default <code class="docutils literal notranslate"><span class="pre">_generated</span></code> suffix</dd>
<dt>output_name (optional)</dt>
<dd>name of the output (if this is not set same name as the input will be
assumed)</dd>
<dt>keep_extension (optional)</dt>
<dd>if you want the extension from the input or name_template to be kept. The
name_template extension always overrides the input extension.</dd>
</dl>
<p>In addition one can add functionality to your class or base class, to allow
changing extensions specific to package or interface. This overload function is
trigerred only if keep_extension is not defined.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">self</span><span class="o">.</span><span class="n">_overload_extension</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">value</span> <span class="c1">#do whatever you want here with the name</span>
</pre></div>
</div>
<p>Finally, in the outputspec make sure the name matches that of the inputspec.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">InvWarpOutputSpec</span><span class="p">(</span><span class="n">TraitedSpec</span><span class="p">):</span>
    <span class="n">inverse_warp</span> <span class="o">=</span> <span class="n">File</span><span class="p">(</span><span class="n">exists</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                        <span class="n">desc</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;Name of output file, containing warps that &#39;</span>
                        <span class="s1">&#39;are the &quot;reverse&quot; of those in --warp.&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2009-18, Neuroimaging in Python team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.1.
    </div>
<div class="footer">This page uses <a href="http://analytics.google.com/">
Google Analytics</a> to collect statistics. You can disable it by blocking
the JavaScript coming from www.google-analytics.com.
</div>

  </body>
</html>